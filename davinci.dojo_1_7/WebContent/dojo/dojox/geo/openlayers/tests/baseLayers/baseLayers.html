<html>
<head>
<link rel="stylesheet" type="text/css" href="../../../../../dijit/themes/dijit.css">
<link rel="stylesheet" type="text/css" href="../../../../../dijit/themes/tundra/tundra.css">
<title>Dojo Base Layers</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

<!--  Google API -->
<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>

<!-- Virtual Earth / Bing -->
<script src='http://dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=6.3'></script>

<!-- Yahoo -->
<script src="http://api.maps.yahoo.com/ajaxymap?v=3.0&appid=euzuro-openlayers"></script>

<!-- hosted version -->
<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script> 

<script type="text/javascript">
	var djConfig = {
		debugAtAllCosts : true,
		isDebug : true,
		locale : 'en',
		parseOnLoad : true
	};
</script>

<script type="text/javascript" src="../../../../../dojo/dojo.js"></script>

<script type="text/javascript">
	dojo.require("dojox.geo.openlayers.widget.Map");
	dojo.require("dojox.geo.openlayers.Layer");
	dojo.require("dijit.Menu");
	dojo.require("dijit.MenuItem");
  dojo.require("dijit.PopupMenuItem");
  dojo.require("dojo.parser");

	var map;

	dojo.addOnLoad(_onLoad);

	function _onLoad(){
		var options = {
			baseLayerName : "TheMap",
			baseLayerType : dojox.geo.openlayers.BaseLayerType.GOOGLE,
			touchHandler : true
		};

		var menu = dojo.byId("menu");

		dojo.style(menu, "visibility", "visible");

		map = new dojox.geo.openlayers.widget.Map();
		dojo.place(map.domNode, "map");
		map.startup();

		map.map.fitTo([ -160, 70, 160, -70 ]);

		setBaseLayer(options);
	}

	function setBaseLayer(o){
		var ta = dojo.byId("textArea");
		ta.innerHTML = "Params: " + dojo.toJson(o).replace(/[,]/g, ' ');
		map.map.setBaseLayerType(o);
		var bl = map.map.getOLMap().baseLayer;
		if (bl && bl.getURL) {
			var msg = bl.getURL(new OpenLayers.Bounds());
		}
	}
</script>

<style type="text/css">
.olLayerGoogleCopyright {
	visibility: hidden;
}
</style>

</head>

<body class="tundra">
</head>
<table>
  <tr>
    <td>
      <div id="menu" style="visibility: hidden;">
        <div dojoType="dijit.Menu">
          <div dojoType="dijit.PopupMenuItem">
            <span> Base Layer </span>
            <div dojoType="dijit.Menu">

              <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
 baseLayerName : 'OpenStreetMap',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.OSM,
 })">Open Street Map</div>

              <div dojoType="dijit.PopupMenuItem">
                <span> Google </span>
                <div dojoType="dijit.Menu">

                  <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
 baseLayerName : 'Google',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.GOOGLE
 })">Google</div>

                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({ 
 baseLayerName : 'GoogleTerrain', 
 baseLayerType : dojox.geo.openlayers.BaseLayerType.GOOGLE, 
 baseLayerOptions : { 
    type: google.maps.MapTypeId.TERRAIN, 
    numZoomLevels: 20
 }})">Google Terrain</div>

                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({ 
 baseLayerName : 'GoogleHybrid', 
 baseLayerType : dojox.geo.openlayers.BaseLayerType.GOOGLE, 
 baseLayerOptions : {
   type: google.maps.MapTypeId.HYBRID, 
   numZoomLevels: 20
 }})">Google Hybrid</div>

                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({ 
 baseLayerName : 'GoogleSatellite', 
 baseLayerType : dojox.geo.openlayers.BaseLayerType.GOOGLE, 
 baseLayerOptions : {
    type: google.maps.MapTypeId.SATELLITE, 
    numZoomLevels: 20}})">Google Satellite</div>
                </div>
              </div>
              <div dojoType="dijit.PopupMenuItem">
                <span> WMS </span>
                <div dojoType="dijit.Menu">
                  <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
 baseLayerName : 'WebMapService',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.WMS})">labs.metacarta.com
                  </div>
                </div>
              </div>
              <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
  baseLayerName : 'VirtualEarth',
  baseLayerType : dojox.geo.openlayers.BaseLayerType.VIRTUAL_EARTH})">Virtual Earth BING
              </div>
              <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
  baseLayerName : 'Yahoo',
  baseLayerType : dojox.geo.openlayers.BaseLayerType.YAHOO})">Yahoo
              </div>
              <div dojoType="dijit.PopupMenuItem">
                <span> ArcGIS </span>
                <div dojoType="dijit.Menu">
                  <div dojoType="dijit.MenuItem" onClick="setBaseLayer({
 baseLayerName : 'ArcGisStreetMap',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.ARCGIS})">Street Map
                  </div>
                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({
 baseLayerName : 'ArcGisWorldShadedRelief',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.ARCGIS,
 baseLayerUrl : 'http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_ShadedRelief_World_2D/MapServer/export'
 })">World Shaded Relief</div>
                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({
 baseLayerName : 'ESRIImageryWorld2D',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.ARCGIS,
 baseLayerUrl : 'http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_Imagery_World_2D/MapServer/export'
 })">ESRI Imagery World 2D</div>
                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({
 baseLayerName : 'ArcGisNGSTopoUS2D',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.ARCGIS,
 baseLayerUrl : 'http://server.arcgisonline.com/ArcGIS/rest/services/NGS_Topo_US_2D/MapServer/export'
 })">NGS Topo US 2D</div>
                  <div dojoType="dijit.MenuItem"
                    onClick="setBaseLayer({
 baseLayerName : 'ArcGisWorldPhysicalMap',
 baseLayerType : dojox.geo.openlayers.BaseLayerType.ARCGIS,
 baseLayerUrl : 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/export'
 })">World Physical Map</div>
                  <div dojoType="dijit.MenuItem" onClick="setBaseLayer(dojox.geo.openlayers.BaseLayerType.ARCGIS)">Arc GIS no args</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </td>
    <td style="width: 100%; height: 100%;"><textarea id="textArea" rows="1" cols="1" style="width: 100%;"></textarea>
    </td>
  </tr>
</table>

<div id="map" style="background-color: #b5d0d0; width: 100%; height: 100%;"></div>

</body>
</html>
